<!doctype html>
<html lang='en'>

  <head>
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, shrink-to-fit=no'>
    <link rel='shortcut icon' type='image/x-icon' href='./images/favicon.ico' sizes='32x32' />
    <title>Online Shopping Site for Mobiles, Electronics, Furniture, Grocery, Lifestyle, Books &amp; More. Best Offers!</title>
    <!-- <link href='http://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css' rel='stylesheet' /> -->
    <link href='https://use.fontawesome.com/releases/v5.5.0/css/all.css' rel='stylesheet' integrity='sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU' crossorigin='anonymous' />
    <style>
      /* font-family: 'Roboto', sans-serif; */
      @import url('https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i');
      /* font-family: 'Roboto Slab', serif; */
      @import url('https://fonts.googleapis.com/css?family=Roboto+Slab:100,300,400,700');
      @import url('https://fonts.googleapis.com/icon?family=Material+Icons');
    </style>
    <link rel='stylesheet' href='./css/bootstrap.min.css' />
    <link rel='stylesheet' href='./css/animate.css' />
    <link rel='stylesheet' href='./css/index.css' />
  </head>

  <body onload='loadProduct()' cz-shortcut-listen='true'>
    <header class='m-0 p-0 cust-ouline-0 border-0 w-100 mw-100'>
      <div class='container-fluid'>
        <div class='row no-gutters'>
          <div class='col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12'>
            <nav class='navbar navbar-toggleable-sm navbar-toggleable-md navbar-toggleable-lg navbar-toggleable-xl navbar-light' role='navigation'>
              <div class='navbar-brand' href='#'>
                <div class='d-flex align-items-center'>
                  <a class='ml-2 ml-sm-2 ml-md-1 ml-lg-1 ml-xl-1'href='#' title="Home" data-toggle="tooltip" onclick='goToIndexPage();'>
                    <img class='rounded-circle' src='./images/favicon.ico' alt='favicon' />
                  </a> 
                  <a class='text-white text-decoration-none ml-3 d-none d-sm-none d-md-block d-lg-block d-xl-block' href='#' title="Home" data-toggle="tooltip" onclick='goToIndexPage();'>
                    Flipkart
                  </a>
                </div>
              </div>
              <button class='navbar-toggler ' type='button'>
                <a class='mr-3' href='#' onclick='srch();' title='Search' data-toggle="tooltip">
                  <i class='fas fa-search text-white' aria-hidden='true'></i>
                </a>
                <input class="searchTwo form-control d-none" id='searchId' type="text" name="search" placeholder="Search..." />
                <a id='wishList' onclick='goToWishList();' class='mr-2 ml-1 mr-sm-1 ml-sm-2 mr-md-4 ml-md-3 mr-lg-4 ml-lg-3 mr-xl-4 ml-xl-3' href='#' title="Wish List" data-toggle="tooltip">
                  <i class='fas fa-heart text-white' aria-hidden='true'></i>
                </a>
                <a class='ml-2' href='#' title="View Your Cart" data-toggle="tooltip" onclick='goToCartPage();'>
                  <i class='fas fa-cart-plus text-white pl-0 px-0 mx-0' aria-hidden='true'>
                    <span class='badge badge-pill badge-cart-notify' id='cartQty'></span>
                  </i>
                </a>
                <a class='ml-3 ml-sm-3 ml-md-2 ml-lg-1 ml-xl-1 dropdown' href='#' id="navbardrop" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <i class='fas fa-user text-white' aria-hidden='true'>
                    <i class='badge badge-pill badge-check-notify fa fa-check text-white' aria-hidden='true'></i>
                  </i>
                  <div class="dropdown-menu py-0" id='dropdownMenu'>
                    <a class="dropdown-item d-flex border-bottom py-3 align-items-center" href="#">
                      <i class='fas fa-user-circle mr-3' aria-hidden='true'></i>
                      My Profile
                    </a>
                    <a class="dropdown-item d-flex border-bottom py-3 align-items-center" href="#">
                      <i class='fas fa-arrows-alt mr-3' aria-hidden='true'></i>
                      Flipkart Plus Zone
                    </a>
                    <a class="dropdown-item d-flex border-bottom py-3 align-items-center" href="#">
                      <i class='fas fa-gamepad mr-3' aria-hidden='true'></i>
                      Game Zone
                    </a>
                    <a class="dropdown-item d-flex border-bottom py-3 align-items-center" href="#">
                      <i class='fas fa-folder-plus mr-3' aria-hidden='true'></i>
                      Orders
                    </a>
                    <a class="dropdown-item d-flex border-bottom py-3 align-items-center" href="#">
                      <i class='fas fa-heart mr-3' aria-hidden='true'></i>
                      Wishlist
                    </a>
                    <a class="dropdown-item d-flex border-bottom py-3 align-items-center" href="#">
                      <i class='fas fa-file-alt mr-3' aria-hidden='true'></i>
                      My Chats
                    </a>
                    <a class="dropdown-item d-flex border-bottom py-3 align-items-center" href="#">
                      <i class='fas fa-folder-open mr-3' aria-hidden='true'></i>
                      Rewards
                    </a>
                    <a class="dropdown-item d-flex border-bottom py-3 align-items-center" href="#">
                      <i class='fas fa-gift mr-3' aria-hidden='true'></i>
                      Gift Card
                    </a>
                    <a class="dropdown-item d-flex border-bottom py-3 align-items-center" href="#">
                      <i class='fas fa-bell mr-3' aria-hidden='true'></i>
                      Notification
                    </a>
                    <a class="dropdown-item d-flex border-bottom py-3 align-items-center" href="#">
                      <i class='fas fa-power-off mr-3' aria-hidden='true'></i>
                      Logout
                    </a>
                  </div>
                </a>
                <span class='navbar-toggler-icon ml-3 ml-sm-3 ml-md-3 ml-lg-3 ml-xl-3' id='navbar-toggle-icon-id' data-toggle='collapse' data-target='#collapsibleNavbar'></span>
              </button>
              <div class='collapse navbar-collapse' id='collapsibleNavbar'>
                <ul class='nav navbar-nav'>
                  <li class='nav-item'>
                    <a class='nav-link' href='#'>Electronics</a>
                  </li>
                  <li class='nav-item'>
                    <a class='nav-link' href='#'>TVs & Appliances</a>
                  </li>
                  <li class='nav-item'>
                    <a class='nav-link' href='#'>Men</a>
                  </li>
                  <li class='nav-item'>
                    <a class='nav-link' href='#'>Women</a>
                  </li>
                  <li class='nav-item'>
                    <a class='nav-link' href='#'>Baby & Kids</a>
                  </li>    
                  <li class='nav-item'>
                    <a class='nav-link' href='#'>Home & Furniture</a>
                  </li>
                  <li class='nav-item'>
                    <a class='nav-link' href='#'>Sports, Books & More</a>
                  </li>
                  <li class='nav-item'>
                    <a class='nav-link' href='#'>Offer Zone</a>
                  </li>
                </ul>
              </div>
            </nav>
          </div>
        </div>
      </div>
    </header>

    <main>
      <article>        
        <section class='m-0 p-0 cust-ouline-0 border-0 w-100 mw-100'>
          <div class="container-fluid">
            <div class='row no-gutters sortFilterSection'>
              <div class='col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 border' type='button'>
                <div class='py-3'>
                  <div class='d-flex justify-content-center align-items-center'>
                    <i class='fas fa-sort-amount-down mr-2' aria-hidden='true'></i>
                    <p class='mb-0'>Sort</p>
                  </div>
                </div>
              </div>
              <div class='col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 border' type='button'>
                <div class='py-3'>
                  <div class='d-flex justify-content-center align-items-center'>
                    <i class='fas fa-list mr-2' aria-hidden='true'></i>
                    <p class='mb-0'>Filter</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
        <ul class='m-0 p-0 cust-ouline-0 border-0 w-100 mw-100 list-unstyled' id='indexImgId'> <!--id='heartUlId'-->
          <!-- <li class='heartLiClass'>
            <section class='sortFilterSection m-0 p-0 cust-ouline-0 w-100 mw-100 backHtmlImgList'>
              <div class="container-fluid">
                <div class='row no-gutters' id='backHtmlOnOffer'>
                  <div class='col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4'>
                    <div class='mainImgSectionP'>
                      <p class='px-1'>On offer</p>
                    </div>
                  </div>
                </div>
                <div class='row no-gutters my-4 my-sm-4 my-md-4 my-lg-4 my-xl-4' id='backHtmlImg'>
                  <div class='col-2 col-sm-2 col-md-3 col-lg-2 col-xl-2'>
                    <div class=''>
                      <div class='backHtmlImgClass'>
                        <img alt src='./images/redmi-neptune-blue.jpeg' />
                      </div>
                    </div>
                  </div>
                  <div class='col-8 col-sm-8 col-md-8 col-lg-9 col-xl-9 px-1'>
                    <div class='d-flex flex-column' id='productDesc2'>
                      <div>
                        <h1 class>
                          Redmi Note 7 Pro (Nebula Red, 64 GB)  (4 GB RAM)
                          <span><a href='#'>#JustHere</a></span>
                        </h1>
                        <p class='text-black font-weight-bold mb-0'>
                          ₹13,999
                          <span class='mx-4 text-mute' style='text-decoration: line-through;'>₹15,999</span>
                          <del class='text-success'>12% off</del>
                        </p>
                        <div class='d-inline-flex align-items-bottom'>
                            <p class='mt-2 pt-0 font-weight-bold'> Exchange available</p>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class='col-2 col-sm-2 col-md-1 col-lg-1 col-xl-1 px-1 heartClassSection bg-white'  type='button'>
                      <div class='row no-gutters justify-content-center align-items-center'>
                        <div class='mainImgSectionHeart w-50 text-center'>
                          <i data-id='0' class='heartClassFontSize heartClassGray heartClass fa fa-heart p-2 p-sm-2 p-md-2 py-lg-3 px-lg-2 py-xl-4 px-xl-1' aria-hidden='true'></i>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </section>
            </li> -->
          </ul>
      </article>
    </main>

    <footer class='border-0 cust-outline-0 m-0 p-0 w-100 mw-100'>
      <div class='row no-gutters mx-auto justify-content-center align-items-center border'>
        <div class='my-5 ftrClass'>
          <nav class='navbar navbar-expand-sm justify-content-center align-items-center'>
            <span class='navbar-brand'>Policies:</span>
            <a class='btn btn-link py-0 px-2' href='#'>Returns Policy</a>
            <a class='btn btn-link py-0 px-2' href='#'>Terms of use</a>
            <a class='btn btn-link py-0 px-2' href='#'>Security</a>
            <a class='btn btn-link py-0 px-2' href='#'>Privacy</a>
            <a class='btn btn-link py-0 px-2' href='#'>Infringement</a>
            <span class='py-0 ml-3 ml-sm-3 ml-md-3 ml-lg-5 ml-xl-5 ftrInfo'>
              © 2007-2019
              <span>Flipkart.com.</span>
            </span>
          </nav>
        </div>            
      </div>
    </footer>

    <script>

      loadProduct = () => {
        fetch('http://localhost:700/products')
        .then((res) => {
          if (res.status === 200) {
            res.json().then(res => {
              const productData = res
              if (productData.length > 0) {
                createIndexImg(res)
              } else {
                let indexDetails =
                `
                  <div class='text-center m-5'>No Records found</div>
                  
                `
                document.querySelector('#indexImgId').innerHTML = indexDetails
              }
            })
          } else {
            alert('Error loading Records.')
          }
        })
      }

      createIndexImg = (i) => {
        let indexDetails =''
        i.forEach(item => {
          const id = item.dataNumber
          indexDetails +=      
          `
          <li class='heartLiClass'>
            <section class='sortFilterSection m-0 p-0 cust-ouline-0 w-100 mw-100 backHtmlImgList'>
              <div class="container-fluid">
                <div class='row no-gutters' id='backHtmlOnOffer'>
                  <div class='col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4'>
                    <div class='mainImgSectionP'>
                      <p class='px-1'>On offer</p>
                  </div>
                </div>
              </div>
              <div class='row no-gutters my-4 my-sm-4 my-md-4 my-lg-4 my-xl-4' id='backHtmlImg'>
                <div class='col-2 col-sm-2 col-md-3 col-lg-2 col-xl-2'>
                  <div>
                    <div class='backHtmlImgClass' onclick="goToItemDetail('${id}');">
                      <img alt src='${item.indexImgUrl}' /> 
                    </div>
                  </div>
                </div>
                <div class='col-8 col-sm-8 col-md-8 col-lg-9 col-xl-9 px-1'>
                  <div class='d-flex flex-column' id='productDesc2'>
                    <div>
                      <h1 class onclick="goToItemDetail('${id}');">
                        ${item.name}
                        <span><a href='#'>#JustHere</a></span>
                      </h1>
                      <p class='text-black font-weight-bold mb-0'>
                        ₹${item.price}
                        <span class='mx-4 text-mute' style='text-decoration: line-through;'>₹${item.retailPrice}</span>
                        <del class='text-success'>${item.discount}% off</del>
                      </p>
                      <div class='d-inline-flex align-items-bottom'>
                        <p class='mt-2 pt-0 font-weight-bold'>
                          Exchange available
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
                <div class='col-2 col-sm-2 col-md-1 col-lg-1 col-xl-1 px-1 heartClassSection bg-white'  type='button'>
                  <div class='row no-gutters justify-content-center align-items-center'>
                    <div class='mainImgSectionHeart w-50 text-center'>
                      <i id="${item.dataNumber}" onclick='toggleAndAddToWishList("${item.dataNumber}", event);' class='heartClassFontSize ${item.className} heartClass fa fa-heart p-2 p-sm-2 p-md-2 py-lg-3 px-lg-2 py-xl-4 px-xl-1' aria-hidden='true'></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>
        </li>
      `
    })
  document.querySelector('#indexImgId').innerHTML = indexDetails
}

      


// addProduct = () => {
//   const product = {
//     imgURL: document.getElementsByName('image')[0].value,
//     name: document.getElementsByName('name')[0].value,
//     price: document.getElementsByName('price')[0].value,
//     retailPrice: document.getElementsByName('retailPrice')[0].value,
//     discount: document.getElementsByName('discount')[0].value,
//     dataNumber: document.getElementsByName('dataNumber')[0].value,
//   }
//   var myHeaders = new Headers()
//   myHeaders.append('Content-Type', 'application/json')

//   fetch('http://localhost:700/products', {
//     method: POST,
//     headers: myHeaders,
//     mode: 'cors',
//     cache: 'default',
//     body: JSON.stringify(product)
//   }).then((res) => {
//     if (res.status === 200) {
//       alert('product added successfully!')
//       loadProduct()
//     }
//   }).catch((e) => {
//     console.log('Error', e)
//   })
// }



// function goToItemDetail (it) {
//   let itm = parseInt(it)
//   let curItem = indexData.filter(i => i.dataNumber === itm)
//   console.log(curItem)
//   window.localStorage.setItem('curItem', JSON.stringify(curItem[0]))
//   window.location.href = './item-details.html'
// }

function goToIndexPage () {
  window.open('./index.html','_self','scrollbars=yes,menubar=yes')
  window.focus()
}

function srch () {
  document.querySelector('#searchId').classList.toggle('d-block')
}
 

// function toggleAndAddToWishList (it, e) {
//   debugger
//   e.target.classList.toggle('text-danger')
//   if (e.target.classList.contains('text-danger')) {
//     let itm = parseInt(it) 
//     let curWishItem = indexData.filter(i => i.dataNumber === itm)
//     let myWishItems = JSON.parse(window.localStorage.getItem('curWishItem'))
//     var wishItems = window.localStorage.getItem('wishItems')
//     if (wishItems=== "undefined") {
//       let wishItems = []
//       wishItems.push(curWishItem[0])      
//       window.localStorage.setItem('wishItems', JSON.stringify(wishItems))
      
//     } else  {
//       wishItems = JSON.parse(wishItems)
//       wishItems.push(curWishItem[0])      
//       window.localStorage.setItem('wishItems', JSON.stringify(wishItems))      
//     }
//   } else  {
//     let no = parseInt(it)
//     let wishItems = JSON.parse(window.localStorage.getItem('wishItems'))
    
//     let removedWishItem = wishItems.filter(j => j.dataNumber !== no)
//     wishItems = removedWishItem
//     window.localStorage.setItem('wishItems', JSON.stringify(wishItems))    
//   }
    
// }
// window.localStorage.setItem('newIndexData', JSON.stringify(newIndexData))
    
//function wishList () {
  //debugger;
  //let wishItems = JSON.parse(window.localStorage.getItem('wishItems'))
  //console.log(wishItems)
  //if (wishItems.length > 0) {
//    document.querySelector('.heartClass').classList.remove('heartClassGray')
  //  document.querySelector('.heartClass').classList.add('text-danger')
  //}
//}

//function toggleHeartClr (e) {
  //e.target.classList.toggle('text-danger')
//}




function goToWishList () {
  window.open('./wish-list.html','_self','scrollbars=yes,menubar=yes')
}
    </script>
  
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src='https://code.jquery.com/jquery-3.2.1.slim.min.js' integrity='sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN' crossorigin='anonymous'></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js' integrity='sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q' crossorigin='anonymous'></script>
    <script src='./js/bootstrap.min.js' ></script>

  </body>
</html>